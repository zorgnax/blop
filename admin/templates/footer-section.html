[% PROCESS header.html title="Footer" x1="Settings" x2="Footer" %]

<form id="footer" name="footer" method="post" class="aform">

<input type="hidden" id="section" name="section" value="footer"/>
<input type="hidden" name="csrf" value="[% blop.csrf %]"/>

<div class="aentry">
[% PROCESS editor.html entry=footer widgets=1 %]
</div>

<div class="aentry">
[% PROCESS upload.html entry=footer %]
</div>

<div class="aentry">
<input type="submit" value="Edit Footer"/>
<span class="aform-mesg aform-error"></span>

</div>

</form>

<script type="text/javascript" src="[% urlbase %]/admin/js/aform.js"></script>
<script type="text/javascript" src="[% urlbase %]/admin/js/editor.js"></script>
<script type="text/javascript" src="[% urlbase %]/admin/js/upload.js"></script>
<script type="text/javascript">
var aform = new AForm({
    formId: "#footer",
    processUrl: "[% urlbase %]/admin/section-js",
    successUrl: "[% urlbase %]/admin/footer-edited"
});

var editor = new Editor({divId: "#editor"});

var upload = new Upload({
    divId: "#upload",
    csrf: "[% blop.csrf %]",
    processUrl: "[% urlbase %]/admin/upload-js",
    deleteUrl: "[% urlbase %]/admin/delete-file-js",
    renameUrl: "[% urlbase %]/admin/rename-file-js",
    editor: editor
});
upload.extraParams = function () {
    return {section: "footer"};
}
</script>
[% PROCESS footer.html %]

